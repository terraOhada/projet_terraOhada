# DOCUMENTATION TECHNIQUE DE TERRAOHADA

![terraohada logo](https://res.cloudinary.com/dq0suzd5m/image/upload/v1751902233/logo_TO_lqulsn.png)

## ğŸ“‹ Sommaire

- [ğŸ“– 1. Vue d'Ensemble](##-1-vue-densemble)
- [ğŸ— 2. Stack Technique & Architecture](##-2-stack-technique--architecture)
- [ğŸš€ 3. DÃ©marrage Rapide (DÃ©veloppement Local)](##-3-dÃ©marrage-rapide-dÃ©veloppement-local)
- [ğŸ“ 4. Structure du Projet](##-4-structure-du-projet)
- [ğŸ¤ 6. Guide de Contribution](##-6-guide-de-contribution)
- [ğŸš€ 7. DÃ©ploiement](##-7-dÃ©ploiement)
- [ğŸ‘¥ 8. Guide Utilisateur](##-8-dÃ©ploiement)
- [ğŸš€ 9. ProcÃ©dures de DÃ©ploiement DÃ©taillÃ©es](##-9-procÃ©dures-de-dÃ©ploiement-dÃ©taillÃ©es)

## ğŸ“– 1. Vue d'Ensemble

**TerraOhada** rÃ©pond Ã  un besoin clair : rendre le droit OHADA accessible, comprÃ©hensible et exploitable. Dans un environnement oÃ¹ lâ€™accÃ¨s Ã  lâ€™information juridique reste souvent complexe, dispersÃ© ou inÃ©gal, la plateforme centralise les contenus clÃ©s : textes, dÃ©cisions, rÃ©sumÃ©s, commentaires dans une interface claire et fonctionnelle.
Accessible depuis tous les pays membres de lâ€™OHADA, et bien au-delÃ , **TerraOhada** sâ€™adresse Ã  tous ceux qui travaillent avec le droit des affaires africain, ou sâ€™y intÃ©ressent

### **Pour qui est Terraohada :**

**1. Professionnels du droit OHADA**  
La plateforme sâ€™adresse Ã  tous les praticiens du droit en Afrique francophone : avocats, juristes dâ€™entreprise, notaires, magistrats, greffiers, experts-comptables ou fiscalistes. Elle leur permet dâ€™accÃ©der rapidement Ã  des contenus fiables liÃ©s au droit OHADA, pour renforcer leur veille juridique et faciliter leur travail quotidien.

**2. Ã‰tudiants en droit et en spÃ©cialisation OHADA**  
PensÃ©e comme un outil dâ€™accompagnement, la solution offre aux Ã©tudiants un accÃ¨s simplifiÃ© aux textes juridiques, jurisprudences et ressources essentielles Ã  la comprÃ©hension du droit des affaires africain. Elle soutient leur apprentissage et leurs recherches dÃ¨s les premiÃ¨res annÃ©es dâ€™Ã©tude.

**3. Enseignants-chercheurs et experts en droit des affaires africain**  
Les universitaires, doctorants et passionnÃ©s du droit OHADA peuvent sâ€™appuyer sur la plateforme pour enrichir leurs travaux de recherche, prÃ©parer leurs cours ou partager des rÃ©fÃ©rences. Lâ€™outil facilite lâ€™accÃ¨s aux sources, dans une logique de vulgarisation et de diffusion du savoir.

**4. Entreprises, institutions et ONG opÃ©rant dans lâ€™espace OHADA**  
Dans un environnement oÃ¹ la sÃ©curitÃ© juridique est cruciale, notre solution permet aux organisations implantÃ©es dans les 17 Ã‰tats membres de mieux comprendre le cadre lÃ©gal unifiÃ© de lâ€™OHADA. Elle constitue un point dâ€™entrÃ©e fiable pour appuyer les Ã©quipes internes ou les partenaires juridiques.

**5. Cabinets de recrutement et structures RH juridiques (bientÃ´t disponible)**  
Ã€ mesure que la plateforme Ã©volue, elle intÃ©grera des fonctionnalitÃ©s Ã  forte valeur ajoutÃ©e pour les cabinets spÃ©cialisÃ©s dans le recrutement juridique en Afrique. Bien que la mise en relation directe ne soit pas encore disponible, la plateforme pose les bases dâ€™un Ã©cosystÃ¨me juridique connectÃ©, Ã  suivre de prÃ¨s.

### Pourquoi choisir TerraOhada ?

TerraOhada, c'est bien plus qu'une base de donnÃ©es juridiques. C'est un vÃ©ritable Ã©cosystÃ¨me conÃ§u pour faciliter l'accÃ¨s au droit OHADA.

1.  Interface claire et moderne
2.  Gain de temps significatif
3.  Information fiable et continue
4.  ConÃ§ue en Afrique, pour l'Afrique
5.  DÃ©marche collaborative

### FonctionnalitÃ©s ClÃ©s de TerraOhada

#### 1- Annuaire OHADA des professionnels(en cours de dÃ©veloppement)

Boostez votre **visibilitÃ©**, **crÃ©dibilitÃ©** et **rÃ©seau** avec notre annuaire dÃ©diÃ©.

**Pour les professionnels** : valorisez votre expertise, dÃ©veloppez votre clientÃ¨le et connectez vous Ã  un Ã©cosystÃ¨me qualifiÃ©.

**Pour les particuliers et entreprises** : trouvez rapidement un professionnel selon sa spÃ©cialitÃ©, son pays ou sa juridiction, et entrez facilement en contact.

#### 2- Base juridique Ohada

Tapez un mot-clÃ©, un pays, une juridiction ou un thÃ¨me.

#### 3- Espace personnel sÃ©curisÃ©

Historique de recherches et contenus favoris.

#### 4- Job board juridique (bientÃ´t disponible)

AccÃ©dez Ã  des offres dâ€™emploi, de stage ou de collaboration dans le domaine juridique en Afrique. Mettez en relation recruteurs et candidats qualifiÃ©s.

#### 5- Quizz juridiques interactifs

Testez vos connaissances sur le droit OHADA grÃ¢ce Ã  des quiz ludiques et pÃ©dagogiques conÃ§us pour les Ã©tudiants et jeunes professionnels.

---

**Ã‰tat du projet** : ğŸ“MVP 1 (TEST)

**Lien vers l'application** : https://mvp-terraohada-frontend.vercel.app

**DÃ©pÃ´t GitHub** : https://github.com/terraOhada/projet_terraOhada (PrivÃ©)

---

## ğŸ— 2. Stack Technique & Architecture

### **Stack UtilisÃ©**

- **Frontend :** React 18+, TypeScript, Zustand, Tanstack Query Tailwind CSS, Vite

- **Backend :** Node.js, Express.js,
- **Base de DonnÃ©es :** MongoDB (avec Prisma ORM) , Notion (Pour les Juristes) & Excel (Pour les quizz)
- **Authentification :** JWT (JSON Web Tokens)
- **HÃ©bergement :** Frontend sur Vercel, Backend & DB sur Render
- **Autres Services :** Cloudinary (stockage d'images), Flutterwave(Paiement, Abonnement)

### **Architecture**

Le projet suit une architecture client-serveur (API REST).

```mermaid
graph LR
    A[Navigateur Client] --> B[Frontend React<br/>TypeScript, Vite<br/>HÃ©bergÃ© sur Vercel];
    B --> C[Backend API Express.js<br/>Node.js<br/>HÃ©bergÃ© sur Render];
    C --> E[(MongoDB<br/>avec Prisma)];
    C --> F[Cloudinary];
    C --> G[Flutterwave];
    C --> H[(Notion API)];
    C --> I[(Fichiers Excel)];
```

## 3. ğŸš€ DÃ©marrage Rapide (DÃ©veloppement Local)

#### **PrÃ©requis**

Assurez-vous d'avoir installÃ© sur votre machine :

- Node.js (v18 ou supÃ©rieure)
- npm ou yarn

#### **Instructions d'Installation**

1.  **Cloner le dÃ©pÃ´t et installer les dÃ©pendances**

```markdown
git clone https://github.com/terraOhada/projet_terraOhada.git
cd projet_terraOhada

# Installer les dÃ©pendances du backend

cd backend && npm install

# Installer les dÃ©pendances du frontend

cd ../frontend && npm install
```

2. **Configuration de l'Environnement**

- Backend : Copiez `backend/.env.example` vers `backend/.env` et renseignez les variables.
- Frontend : Copiez `frontend/.env.example` vers `frontend/.env.local` et renseignez les variables.  
  _Variables clÃ©s Ã  dÃ©finir :_

```
# backend/.env

# Basic
DATABASE_URL=""
JWT_SECRET=
PORT=5000
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173
FRONTEND_URL=https://mvp-terraohada-frontend.vercel.app

# Brevo SMTP
SMTP_USER=
SMTP_PASSWORD=
SENDER_EMAIL="example@gmail.com"

# Cloudinary keys
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Notion keys
NOTION_API_KEY=
NOTION_DATABASE_ID=

# Flutterwave test keys
FLW_PUBLIC_KEY=
FLW_SECRET_KEY=
FLW_ENCRYPTION_KEY=
FLW_REDIRECT_URL=http://localhost:5173/payment-callback

---
# frontend/.env.local
VITE_NODE_ENV=development
VITE_API_BASE_URL=http://localhost:5000/api
```

3. **Initialiser la Base de DonnÃ©es**

```
cd backend
npx prisma generate
npx prisma db push
npm run seed # (Optionnel) Peuple la DB avec des donnÃ©es de test
```

4.  **Lancer les Services**

    - **Lancer le backend :** `cd backend && npm run dev`
    - **Lancer le frontend :** `cd frontend && npm run dev`
    - L'application sera accessible sur `http://localhost:5173` et l'API sur `http://localhost:5000`.

## 4. **ğŸ“ Structure du Projet**

Le projet est organisÃ© en deux dossiers principaux : `backend` et `frontend`, suivant une architecture monorepo.

#### **Backend (Node.js + Express)**

```
backend/
â”œâ”€â”€ prisma/                 # SchÃ©mas et migrations de la base de donnÃ©es
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/            # Fichiers de configuration (DB, cloud, etc.)
â”‚   â”œâ”€â”€ controllers/       # ContrÃ´leurs - Logique mÃ©tier des routes
â”‚   â”œâ”€â”€ generated/         # Fichiers gÃ©nÃ©rÃ©s (probablement par Prisma)
â”‚   â”œâ”€â”€ middleware/        # Middlewares Express (auth, validation, etc.)
â”‚   â”œâ”€â”€ nodemailer/        # Configuration et templates d'emails
â”‚   â”œâ”€â”€ routes/            # DÃ©finitions des routes de l'API
â”‚   â”œâ”€â”€ scripts/           # Scripts utilitaires (migrations, seeds, etc.)
â”‚   â”œâ”€â”€ services/          # Services mÃ©tier et logique complexe
â”‚   â”œâ”€â”€ utils/             # Fonctions utilitaires (helpers)
â”‚   â””â”€â”€ index.js           # Point d'entrÃ©e de l'application
â”œâ”€â”€ temp/                  # Dossier de fichiers temporaires
â”œâ”€â”€ uploads/               # Dossier de stockage des uploads
â”œâ”€â”€ .env                   # Variables d'environnement (NE PAS VERSIONNER)
â”œâ”€â”€ .gitignore            # Fichiers ignorÃ©s par Git
â”œâ”€â”€ package.json          # DÃ©pendances et scripts du backend
â””â”€â”€ vercel.json           # Configuration du dÃ©ploiement sur Vercel
```

#### **Frontend (React + TypeScript + Vite)**

```
frontend/
â”œâ”€â”€ public/                # Fichiers statiques (icÃ´nes, images publics)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # Configurations et fonctions pour appels API
â”‚   â”œâ”€â”€ assets/           # Assets (images, fonts) importÃ©s dans le code
â”‚   â”œâ”€â”€ components/       # Composants React rÃ©utilisables
â”‚   â”œâ”€â”€ data/             # DonnÃ©es statiques (ex: options de filtres)
â”‚   â”œâ”€â”€ hooks/            # Hooks React personnalisÃ©s
â”‚   â”œâ”€â”€ layout/           # Composants de layout (Header, Footer, Sidebar)
â”‚   â”œâ”€â”€ pages/            # Composants de pages / vues
â”‚   â”œâ”€â”€ query/            # Configuration TanStack Query
â”‚   â”œâ”€â”€ store/            # Configuration Zustand (Ã©tat global)
â”‚   â”œâ”€â”€ types/            # DÃ©finitions TypeScript
â”‚   â”œâ”€â”€ utils/            # Fonctions utilitaires
â”‚   â”œâ”€â”€ App.tsx           # Composant racine de l'application
â”‚   â”œâ”€â”€ index.css         # Styles globaux
â”‚   â””â”€â”€ main.tsx          # Point d'entrÃ©e de l'app React
â”œâ”€â”€ env/                  # Variables d'environnement (?)
â”œâ”€â”€ index.html            # Template HTML principal
â”œâ”€â”€ package.json          # DÃ©pendances et scripts du frontend
â””â”€â”€ eslint.config.js      # Configuration ESLint pour le linting
```

## 6. ğŸ¤ Guide de Contribution

1.  **CrÃ©er une branche** Ã  partir de `develop` : `git checkout -b feat/nouvelle-fonctionnalite`
2.  **Respectez les conventions de code** : Le projet utilise ESLint et Prettier. ExÃ©cutez `npm run lint` avant de committer.
3.  **Testez vos modifications**.
4.  **Poussez votre branche** et ouvrez une **Pull Request** vers `develop`.
5.  Assurez-vous que tous les checks CI (tests, lint) passent.

## 7. ğŸš€ DÃ©ploiement

Le dÃ©ploiement est entiÃ¨rement automatisÃ© via GitHub Actions :

- **Branche `main`** : Un push dÃ©clenche un dÃ©ploiement automatique en **production** (sur Vercel & Render).
- **Branche `develop`** : Un push dÃ©clenche un dÃ©ploiement automatique en **environnement de staging** (URL de preview).

Les variables d'environnement sont gÃ©rÃ©es directement sur les plateformes d'hÃ©bergement (Vercel & Render).

### ğŸ‘¥ 8. Guide Utilisateur

Cette section dÃ©crit les fonctionnalitÃ©s principales du point de vue de l'utilisateur final et comment les utiliser.

#### **8.1. CrÃ©ation de Compte et Connexion**

- **Inscription** : Rendez-vous sur la page d'accueil et cliquez sur "Connexion". Remplissez le formulaire avec votre email, un mot de passe et les informations requises (nom, prÃ©nom,). Un email de confirmation vous sera envoyÃ©.
- **Connexion** : Utilisez votre email et mot de passe pour vous connecter Ã  votre espace personnel sÃ©curisÃ©.
- **Mot de passe oubliÃ©** : Utilisez le lien "Mot de passe oubliÃ©" pour rÃ©initialiser votre accÃ¨s via email.

#### **8.2. Utilisation de la Base Juridique OHADA**

- **Recherche simple** : Dans la barre de recherche principale, tapez un mot-clÃ© (ex: "sociÃ©tÃ©", "contrat", "sÃ»retÃ©").
- **AnnÃ©e** : SÃ©lectionner une annÃ©e
- **Pays** : CÃ´te d'Ivoire, SÃ©nÃ©gal, Cameroun...
- **Filtres avancÃ©s** : Utilisez les filtres pour affiner votre recherche par :

  AnnÃ©e

  - **Sujet juridique** : Droit commercial ,Droits de suretÃ©...
  - **Types de dÃ©cisions** : Ordonnance, ArrÃªt, Avis...
  - **Juridiction** : CCJA, Juridictions nationales...
  - **Texte juridique** : Actes uniformes, Code OHADA...

- **Consultation d'une dÃ©cision** : Cliquez sur [lire une dÃ©cision]() pour voir le dÃ©tail de la dÃ©cision, y compris le texte intÃ©gral, les commentaires de la communautÃ© et les rÃ©fÃ©rences.

#### **8.3. Gestion de l'Espace Personnel**

- **Favoris** : Cliquez sur l'icÃ´ne [â™¡]() ou "Ajouter aux favoris" pour la sauvegarder dans votre espace personnel pour un accÃ¨s ultÃ©rieur.
- **Historique** : Consultez l'historique de toutes vos recherches et consultations.
- **Profil** : Modifiez vos informations personnelles et vos prÃ©fÃ©rences depuis l'onglet "Mon Profile" en cliquant sur votre photo de profil.

#### **8.4. RÃ©solution des Quiz Juridiques**

- AccÃ©dez Ã  la section "Quizz TerraOhada" depuis le menu principal.
- RÃ©pondez aux questions Ã  choix multiples. Votre score s'affichera Ã  la fin avec les corrections.
- Relevez le dÃ©fi pour amÃ©liorer votre score et vos connaissances.

#### **8.5. Gestion de l'Abonnement et Paiement (Le cas Ã©chÃ©ant)**

- AccÃ©dez Ã  la page "Abonnement" pour voir les formules disponibles (Gratuit, Premium, etc.).
- Le paiement des formules payantes est sÃ©curisÃ© et s'effectue via Flutterwave (carte bancaire, mobile money, etc.).
- GÃ©rez et consultez vos factures dans votre espace personnel.

### ğŸš€ 9. ProcÃ©dures de DÃ©ploiement DÃ©taillÃ©es

Cette section dÃ©crit les Ã©tapes prÃ©cises pour dÃ©ployer manuellement l'application en environnement de production ou de staging.

#### **9.1. DÃ©ploiement du Backend (API) sur Render**

1.  **PrÃ©paration du Build :**

    - Assurez-vous que la branche `main` (ou `develop` pour le staging) est Ã  jour et stable.
    - VÃ©rifiez que toutes les variables d'environnement dans le fichier `backend/.env` sont correctement configurÃ©es pour la production (`NODE_ENV=production`, URLs de base de donnÃ©es et services externes de production).

2.  **DÃ©ploiement sur Render :**

    - Render se connecte automatiquement Ã  votre dÃ©pÃ´t GitHub et dÃ©ploie Ã  chaque push sur la branche liÃ©e.
    - **Variables d'environnement sur Render :** Renseignez toutes les variables du fichier `.env` directement dans l'interface web de Render (Dashboard > votre service > Environment).
    - **Build Command :** `npm install` (Render dÃ©tecte automatiquement le `package.json`).
    - **Start Command :** `npm start` (Assurez-vous que le script `"start": "node dist/index.js"` existe dans `package.json`).

3.  **VÃ©rification Post-DÃ©ploiement :**

    - AccÃ©dez aux logs de l'application sur le dashboard Render pour vÃ©rifier qu'aucune erreur ne s'est produite au dÃ©marrage.
    - Testez l'endpoint health-check ou un endpoint API public (ex: `GET /api/health`) pour confirmer que l'API rÃ©pond.

#### **9.2. DÃ©ploiement du Frontend (React) sur Vercel**

1.  **PrÃ©paration du Build :**

    - Assurez-vous que la branche `main` est Ã  jour.
    - VÃ©rifiez que la variable `VITE_API_BASE_URL` dans `frontend/.env.production` pointe vers l'URL de votre backend dÃ©ployÃ© sur Render (et non `localhost`).

2.  **DÃ©ploiement sur Vercel :**

    - Connectez votre dÃ©pÃ´t GitHub Ã  Vercel.
    - Configurez le projet :

      - **Framework Preset :** Vite
      - **Root Directory :** `frontend`
      - **Build Command :** `npm run build` (ou `yarn build`)
      - **Output Directory :** `dist`

    - **Variables d'environnement :** Ajoutez toutes les variables prÃ©fixÃ©es par `VITE_` depuis votre `.env.production` dans les settings du projet sur Vercel.

3.  **VÃ©rification Post-DÃ©ploiement :**

    - Vercel fournit une URL de preview pour chaque dÃ©ploiement. Visitez-la pour tester le bon fonctionnement de l'interface.
    - Testez les fonctionnalitÃ©s clÃ©s : chargement des pages, appel API (login, recherche), etc.

#### **9.3. DÃ©ploiement de la Base de DonnÃ©es (Migrations)**

- **Environnement de Production :** Les migrations de base de donnÃ©es doivent Ãªtre effectuÃ©es avec prudence.
- **Processus :**

  1.  **Localement :** ExÃ©cutez `npx prisma migrate dev --name nom_de_la_migration` pour crÃ©er une nouvelle migration.
  2.  **Pousser la migration :** Poussez le dossier `prisma/migrations` gÃ©nÃ©rÃ© sur la branche `main`.
  3.  **Appliquer en production :** Render exÃ©cute automatiquement les commandes de build dÃ©finies. Ajoutez la commande `npx prisma generate` dans le **Build Command** de Render (`npm run build` pourrait dÃ©jÃ  le contenir) pour appliquer automatiquement les migrations Ã  chaque dÃ©ploiement.

- **Alternative (RecommandÃ©e pour la production) :** ExÃ©cutez manuellement et en toute sÃ©curitÃ© la commande de migration via un script ou une connexion SSH aprÃ¨s le dÃ©ploiement du backend : `npx prisma migrate deploy`.

#### **9.4. Rollback (ProcÃ©dure de Retour ArriÃ¨re)**

En cas de problÃ¨me critique aprÃ¨s un dÃ©ploiement :

1.  **Frontend (Vercel) :** Dans le dashboard Vercel, allez dans la section "Deployments", trouvez le dernier dÃ©ploiement stable et cliquez sur "â‹®" > "Redeploy".
2.  **Backend (Render) :** Dans le dashboard Render, allez dans la section "Deploys" et utilisez la fonction "Rollback" pour revenir Ã  la version prÃ©cÃ©dente.
3.  **Base de donnÃ©es :** Les migrations Prisma sont conÃ§ues pour Ãªtre irrÃ©versibles. Un rollback de code backend est souvent prÃ©fÃ©rable. Pour des changements de schÃ©ma critiques, une restauration de sauvegarde (backup) de la base de donnÃ©es peut Ãªtre nÃ©cessaire.
